<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Feedback Loops at Work</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	</head>
	<body>
		<div class="reveal">
			<div class="slides container">
				<section data-markdown>
                    <textarea data-template>
                        ## Feedback Loops at Work
                        ### LeedsPHP May '25

                        Hi üëã I'm David Jimenez

                        Consultant at T5 Digital

                        https://ieji.de/@dvejmz

                        ![](img/liqr.png) <!-- .element: height="200" -->

                        Notes: I submitted this talk's title as "Feedback Loops at Work" but it could just as well be called
                        "How to Taste Your Code as you build" because of all the food references I've managed to slip in this, you'll see in a minute...
                        Speaking of food, let me open up with a little scenario here to get us warmed up
                        ---
                        Let's open a sandwich bar!

                        Notes: you're the proud owner of a brand-new gourmet sandwich bar. So brand-new indeed you haven't even designed a sandwich menu yet
                        So the first customer walks in and asks you for a sandwich, and you're so excited to make a great first impression and get this customer
                        to tell their friends all about the great sandwich they had at your bar that you run into the kitchen and prepare them the best
                        sandwich you can think of
                        ---
                        ![](img/expensive-sarny.jpg) <!-- .element: height="600" -->
                        ---
                        - Premium Sourdough Bread (2 slices): ¬£0.80
                        - Fresh Truffle Shavings (5g): ¬£5.00
                        - Best-in-Class Meat Cuts (60g): ¬£4.50
                        - Imported Goat's Cheese (40g): ¬£1.50
                        - Organic, Fresh Veggies (50g): ¬£0.75

                        **Cooking time: 1 hour**

                        **Total: ¬£12.55**

                        Notes:
                        You pop into the local market to get all this fresh produce, you spend some time patiently shaving off your truffles,
                        slicing the meat with great care...

                        Only that when you present your masterpiece to the client, they look at you with huge disappointment and tell you that
                        they are both gluten and lactose intolerant, so that's 12 quid and an hour of your time you're never getting back...
                        ---
                        ![](img/basic-sarny.jpg) <!-- .element: height="600" -->

                        Notes:
                        Now let's imagine you had decided not to get too carried away with your first order and stick to the basics: a ham and cheese sandwich it is
                        ---

                        - Normal Sliced Bread (2 slices): ¬£0.15
                        - Cooked Ham (40g): ¬£0.50
                        - Cheddar Cheese (30g): ¬£0.35

                        **Cooking time: 1 minute**

                        **Total: ¬£1.00**

                        Notes:
                        Now you get the same reaction from the client, but this time is no big deal.

                        What I described there in an arguably contrived way is two types of feedback loops.
                        Both of them ended up roughly at the same place, only one of them got there a lot sooner and cheaper.
                        One of them led to a quick, cheap, positive conclusion where customer's expectations were
                        met relatively quickly and cheaply, and another one where things didn't go as well.
                        ---
                        Building software is constant learning.

                        Minimise the cost of learning as much as possible.

                        Notes:
                        You want to minimise the cost of learning as much as possible.
                        ---
                        ## What is a feedback loop?

                        A feedback loop is a cycle of acting, evaluating results against a goal, and then adjusting actions to achieve the goal or maintain a desired state.
                        ---
                        ## Feedback loops in our daily lives

                        ![](img/thermostat.webp) <!-- .element: height="400" -->
                        ---

                        ![](img/curry.webp) <!-- .element: height="600" -->

                        ---
                        ## Feedback loops at work

                        - TDD <!-- .element: class="fragment" -->
                        - Debugging <!-- .element: class="fragment" -->
                        - Scrum sprints (inspect and adapt) <!-- .element: class="fragment" -->
                        - A performance review at work <!-- .element: class="fragment" -->
                        - CI/CD <!-- .element: class="fragment" -->

                        Note:
                        Ask the audience to name a few examples of feedback loops in software engineering.
                        Say it like this: Scrum sprints? that‚Äôs a feedback loop, roadmaps? a feedback loop,
                        ---
                        ![](img/devops.png)

                        Notes:
                        CI/CD? all about the loops.
                        This is the neverending loop of continuous improvements any team that practices DevOps would follow, right?
                        Almost everything works in loops.
                        ---
                        ## When things get too loopy

                        - Runaway retries in distributed systems <!-- .element: class="fragment" -->
                        - Goodhart's Law <!-- .element: class="fragment" -->
                        - Wanting to punch ChatGPT after it tried to gaslight you for the 5th time in the same convo <!-- .element: class="fragment" -->

                        Notes:
                        Ask audience if they can think of any examples of bad feedback loops
                        Goodhart's Law: When a measure becomes a target, it ceases to be a good measure. So people start optimising around metrics rather than outcomes.
                        Misconfigured API requests: When you don't implement back-off algorithms, max retries, no short-circuiting, and end up overwhelming upstream services
                        ---

                        ![](img/hotwheels.jpeg) <!-- .element: height="600" -->

                        Notes:
                        Anyway, let's talk about other kinds of loops, let's talk about fun loops now!
                        Show of hands who played Hot Wheels or similar racing games as a kid.

                        The idea is we want more of these loops. But why? Why not just go in a straight line?
                        ---
                        ## Failing Fast

                        ![](img/zuck.jpg)

                        Notes:
                            If there is an issue, your quickest, tightest, smallest loops may not catch it in its entirety (as its implications could be broad), but you may catch a bit of it: enough to signal there‚Äôs trouble afoot. So you iron out the problem without having to go to the bigger loops yet. And when you do, you do your bigger loops next, to make sure you removed all of the problem, not just the small bit your tightest loop was able to identify

                            Moving fast enables us to build more things and learn faster.
                            However, as most companies grow, they slow down too much because they're
                            more afraid of making mistakes than they are of losing opportunities by
                            moving too slowly. We have a saying: 'Move fast and break
                            things.' The idea is that if you never break anything, you're probably
                            not moving fast enough.
                        ---
                        ## More loops, tighter, faster!

                        Add loops and tighten them up so you can go round them as fast as possible!

                        ![](img/loops.png) <!-- .element: height="500" -->

                        Notes:
                        This doesn‚Äôt mean rush through things, but to make small, constant adjustments through small iterations.
                        ---
                        ## A Typical SDLC

                        ![](img/sdlc-loose.png) <!-- .element: height="600" -->

                        Notes:
                        Ask audience: show of hands whose development process looks similar enough to this.
                        How long does it take you to complete a full cycle through it?
                        What if we could compress this down to 1 week? Even less than that?
                        ---
                        ## Tasting as we cook

                        ![](img/sdlc-tight.png) <!-- .element: height="600" -->

                        Notes:
                        Bringing back the sandwich cook analogy from earlier, I've not gone to cooking school but I've watched loads
                        of Masterchef, and one of the first things they teach you is to always taste your food as you make it.
                        Because a lot of errors are much quicker and cheaper to correct early on. Building software
                        is not the same as cooking, as much as I'd love it to be, but there are parallels.
                        I believe there are plenty of ways to "taste our software" as we build it, and that's what I'd like to spend
                        the next few minutes talking about.
                        Now I'm sure many of the techniques and ideas I'll talk about now many of you already do.
                        Consider this a comprehensive checklist of ways to tighten your loops.
                        If you want to learn more about any of these, or tell me about other tricks you've used at work
                        to speed up your own iterations, please grab me at the end of the talks later. I'd love to have a chat.

                        Anyway, the first thing you can do to shorten your iterations is to actually turn the entire cycle on its head
                        and optimise at the very beginning. If you think about it, the "business alignment" step, for lack of a better term,
                        doesn't really feel part of our loop, does it? It feels more like the straight ramp that speeds down
                        into the loop. But what if the ramp is sending us into the wrong kind of loop? How can we better integrate this
                        step into our cycles?
                        ---
                        ## üí∞ Business Strategy Alignment

                        - Do you even need to do the work?
                        - If you do, do you need to do _that_ much to start with?
                            - Validated learning
                            - Concierge MVP
                            - Iterative software development
                        - Value Stream Mapping
                        - Multi-disciplinary, empowered, self-organising teams

                        Notes:
                        Value stream mapping to trim out steps from your process that don't add value
                        The best kind of work is the work you don't have to do.
                        How do you save yourself some cycles through the loop?
                        ---
                        ## üßë User story

                        - Small changes
                        - *3 amigos* sessions
                        - UI mock-ups
                        - Proof of concept
                        - Vertical slices

                        Notes:
                        The idea is that you'll be completing passes through all of the loops in a very short space of time
                        In order to achieve that, the scope of your changes needs to be very small, otherwise it's impossible.
                        Collaborative session formats that tighten up the loop: Story mapping, event storming, example mapping
                        ---
                        ![](img/vertical-slices.png) <!-- .element: height="800" -->
                        ---
                        ## üî® Writing code

                        - IDE hints
                        - Compiler (if there is one)
                        - Linters, static analysis
                        - Debuggers (or print/log statements)
                        ---
                        ## üß™ Unit tests

                        - TDD
                        - Fast unit tests
                        - Hot reloading
                        - Watch mode (tip: use `watchexec` to emulate this if your test suite doesn't support it)

                        Notes: if running your full unit test suite takes more than a few seconds, they're not fast
                        ---
                        ## üêû Manual testing in local dev environment

                        - Do it less by writing more automated tests if you can
                        - Repeatable, automated environment & data setup process, e.g. Docker, minikube, DB seeding scripts, etc.
                        - Live reloading (PHP FTW)

                        Notes: do it less, replace with automated tests, especially if it's regression testing. Mount Docker volumes if you use Docker for your local environments
                        ---
                        ## üîé Code & architecture reviews

                        - Pair & ensemble programming
                        - In situ whiteboarding
                        ---
                        ## üîÑ Continuous Integration

                        - Fast build pipelines
                        - Build on PR / push
                        - Walking skeleton
                        - Trunk-based development
                        - Feature toggles
                        - Contract testing
                        ---

                        ![](img/deming.jpeg) <!-- .element: height="300" -->
                        >Inspection is too late. The quality, good or bad, is already in the product.

                        W. Edwards Deming
                        ---
                        ## ‚úÖ Testing in an integration environment

                        - Ephemeral, preview environments
                        - No QA handovers
                        - Build interfaces first

                        ---
                        ## Canned to realsies

                        ![](img/canned-to-realsies.png) <!-- .element: height="500" -->

                        Notes:
                        This technique may not be required for really simple interfaces or endpoints but it can be
                        very powerful for more involved integrations
                        You first build a smoke-and-mirrors version of it.
                        ---
                        ## Canned to realsies

                        1. Define and agree on contract between consumer and provider
                        2. Build enough of the backend to return something to consumers that adheres to contract
                        3. Build enough of the frontend to consume it, as though it were real data
                        4. Once integration is proved, flesh out backend to return actual data
                        ---
                        ## üö¶ UAT & Internal Demos

                        - Show progress to stakeholders and obtain feedback frequently (at least once a week, more often if you can!)
                        - Ask people to use your system and watch them while they do it
                        - Dogfooding

                        Notes:
                        If they get confused or ask questions, that's a bug.
                        ---
                        ## üöÄ Releasing

                        - *Small, frequent releases*
                        - Deployment pipelines
                        - Monitoring
                        - Feature toggles
                        - Canary releases
                        - Dual running, shadow launches
                        - A/B testing

                        Notes:
                        You want to do small frequent releases, and how do you do that? Through automation: pipelines.

                        do you need to do all of these? No, not really. Not all of these will apply to every use case, of course (e.g. asking for user feedback is harder when you're building a data analytics pipeline, for example).
                        ---
                        ## Beyond feedback loops

                        Everything is an experiment
                        ---
                        ## Experimenting

                        1. Come up with a hypothesis
                        2. Build the bare minimum you can to prove it
                        3. Measure response, obtain feedback
                        4. Learn, adjust, repeat

                        Notes:
                        Hypothesis: I believe this product/feature/service will solve this problem or make someone else‚Äôs life or work better in this way
                        This process enables us to be scientific, data-driven. We're not building on hunches and assumptions all the time.
                        Rather than wasting time in lengthy discussions about whether we should do things one way or another, why not try both! See which one works best.
                        ---
                        ## I'd love your feedback!

                        ![](img/feedback-qr.png)

                        Thank you!
                        ---
                        ## Link to this talk

                        ![](img/slides-qr.png)
                    </textarea>
                </section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
